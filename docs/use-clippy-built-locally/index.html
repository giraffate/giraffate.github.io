<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Mitaka Club</title>
        <meta name="description" content="三鷹で活動しているクラブチームです">

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@giraffate" />
        <meta property="og:url" content="https:&#x2F;&#x2F;mitaka.club" />
        <meta property="og:title" content="Mitaka Club" />
        <meta property="og:description" content="三鷹で活動しているクラブチームです" />
        <meta property="og:image" content="https:&#x2F;&#x2F;mitaka.club/images/giraffate.jpg" />
    </head>
    
    <body>
        <header>
            <nav>
                <a href="/">Home</a>
                <a href="https://github.com/giraffate">GitHub</a>
                <a href="https://twitter.com/giraffate">Twitter</a>
                <a href="/index.xml">RSS</a>
            </nav>
        </header>
        
<main>
    <article>
        <h1>Use Clippy built on my local machine</h1>
        <time>2021-03-09</time>

        <div>
            <p>This is a note about the way to use Clippy built on my local machine. It's helpful when checking the implementation of new lints, and finding some bugs and false positives.</p>
<ol>
<li>Build Clippy</li>
</ol>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">$ cargo build
</span></code></pre>
<ol start="2">
<li>Set the <code>LD_LIBRARY_PATH</code> and run Clippy on the repository which I want to do for</li>
</ol>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">$ LD_LIBRARY_PATH=$(rustc --print sysroot)/lib  path/to/rust-clippy/target/debug/cargo-clippy --all-targets --all-features -- -Wclippy::all
</span></code></pre>
<ol start="3">
<li>Oh, at the time of writing this note, I may need to set the toolchain same as the one Clippy use (see <code>rust-toolchain</code> file in Clippy repo). Anyway, I overrode it.</li>
</ol>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">$  rustup override set nightly-2021-02-25
</span></code></pre>
<ol start="4">
<li>Clippy works on my local machine!</li>
</ol>

        </div>
    </article>
</main>

    </body>
</html>
